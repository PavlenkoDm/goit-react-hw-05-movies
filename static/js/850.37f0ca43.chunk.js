"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[850],{713:function(e,t,n){n.d(t,{n:function(){return i}});var r=n(861),u=n(757),o=n.n(u),c=n(243);function i(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},124:function(e,t,n){var r=n(689),u=n(87),o=n(184);t.Z=function(e){var t=e.id,n=e.title,c=(0,r.TH)();return(0,o.jsx)("li",{children:(0,o.jsx)(u.rU,{to:"/movies/".concat(t),state:{from:c},children:n})})}},930:function(e,t,n){n.d(t,{n:function(){return r.n}});var r=n(713)},850:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(683),u=n(439),o=n(791),c=n(87),i=n(686),a=n(930),f=n(184),s=function(e){var t=e.onSubmit;return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.query.value.trim().toLowerCase();""!==n&&(t(n),e.target.query.value="")},children:[(0,f.jsx)("input",{className:"search-input",type:"text",autoComplete:"off",name:"query"}),(0,f.jsx)("button",{className:"back-btn",type:"submit",children:"Search"})]})},l=n(124),p=function(){var e=(0,o.useState)([]),t=(0,u.Z)(e,2),n=t[0],p=t[1],b=(0,c.lr)(),h=(0,u.Z)(b,2),m=h[0],d=h[1],v=m.get("query");(0,o.useEffect)((function(){v&&(p([]),i.Loading.arrows(),(0,a.n)("https://api.themoviedb.org/3/search/movie?api_key=854977f2e9fa8d2e098b4e957b2e6d0a&query=".concat(v,"&language=en-US")).then((function(e){var t=e.results;if(0!==t.length){var n=t.map((function(e){var t=e.title;return{id:e.id,title:t}}));p(n)}else alert("We found nothing")})).catch((function(e){console.log(e)})).finally(i.Loading.remove))}),[v]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(s,{onSubmit:function(e){d({query:e})}}),(0,f.jsx)("ul",{children:n.map((function(e){return(0,f.jsx)(l.Z,(0,r.Z)({},e),e.id)}))})]})}},683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=850.37f0ca43.chunk.js.map